<html>

<head>
  <title>Maxime INF1339 Project 2</title>
  <style>
    .test_class {
      font-family: Helvetica, sans-serif;
    }
    .output {
      color: black;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <h3>API Project Version 3</h3>
  <h3>New York Times API: Articles from all time about rainbows</h3>
  <h3 id="test_output" class="output"></h3>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
<script>
  var apiKey = "ppCqkHwUGOfXtEnsCxTOAtRZo7iWUu8c";
  var url = "https://api.nytimes.com/svc/search/v2/articlesearch.json?q=rainbow&api-key=" + apiKey;
  var articleCount = 0;
  function setup() {
    noCanvas();
    loadJSON(url, gotData);
  }
  function gotData(data) {
    var text = "";
    var snippet = "";
    for (i = 0; i < data.response.docs.length; i++) {
      h = document.createElement("h3");
      h.innerHTML = "(" + (i+1) + ")" + data.response.docs[i].headline.main;
      document.body.appendChild(h);
      p = document.createElement("p");
      p.innerHTML = data.response.docs[i].snippet;
      document.body.appendChild(p);
    }
  }
</script>

</html>